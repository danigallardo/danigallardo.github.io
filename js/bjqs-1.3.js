!function(t){"use strict";t.fn.bjqs=function(e){var i={width:700,height:300,animtype:"fade",animduration:450,animspeed:4e3,automatic:!0,showcontrols:!0,centercontrols:!0,nexttext:"Next",prevtext:"Prev",firsttext:"First",lasttext:"Last",showmarkers:!0,centermarkers:!0,showoutof:!0,keyboardnav:!0,hoverpause:!0,usecaptions:!0,randomstart:!1,responsive:!1},n=t.extend({},i,e),s=this,d=s.find("ul.bjqs"),h=d.children("li"),a=null,r=null,l=null,c=null,o=null,u=null,f=null,p=null,w=null,g={slidecount:h.length,animating:!1,paused:!1,currentslide:1,nextslide:0,currentindex:0,nextindex:0,interval:null},x={width:null,height:null,ratio:null},v={fwd:"forward",prev:"previous",fst:"first",lst:"last"},m=function(){h.addClass("bjqs-slide"),n.responsive?q():I(),g.slidecount>1?(n.randomstart&&_(),n.showcontrols&&T(),n.showmarkers&&b(),n.showoutof&&j(),n.keyboardnav&&C(),n.hoverpause&&n.automatic&&D(),"slide"===n.animtype&&y()):n.automatic=!1,n.usecaptions&&W(),"slide"!==n.animtype||n.randomstart||(g.currentindex=1,g.currentslide=2),d.show(),h.eq(g.currentindex).show(),n.automatic&&(g.interval=setInterval(function(){M(v.fwd,!1)},n.animspeed))},q=function(){x.width=s.outerWidth(),x.ratio=x.width/n.width,x.height=n.height*x.ratio,"fade"===n.animtype&&(h.css({height:n.height,width:"100%"}),h.children("img").css({height:n.height,width:"100%"}),d.css({height:n.height,width:"100%"}),s.css({height:n.height,"max-width":n.width,position:"relative"}),x.width<n.width&&(h.css({height:x.height}),h.children("img").css({height:x.height}),d.css({height:x.height}),s.css({height:x.height})),t(window).resize(function(){x.width=s.outerWidth(),x.ratio=x.width/n.width,x.height=n.height*x.ratio,h.css({height:x.height}),h.children("img").css({height:x.height}),d.css({height:x.height}),s.css({height:x.height})})),"slide"===n.animtype&&(h.css({height:n.height,width:n.width}),h.children("img").css({height:n.height,width:n.width}),d.css({height:n.height,width:n.width*n.slidecount}),s.css({height:n.height,"max-width":n.width,position:"relative"}),x.width<n.width&&(h.css({height:x.height}),h.children("img").css({height:x.height}),d.css({height:x.height}),s.css({height:x.height})),t(window).resize(function(){x.width=s.outerWidth(),x.ratio=x.width/n.width,x.height=n.height*x.ratio,h.css({height:x.height,width:x.width}),h.children("img").css({height:x.height,width:x.width}),d.css({height:x.height,width:x.width*n.slidecount}),s.css({height:x.height}),f.css({height:x.height,width:x.width}),k(function(){M(!1,g.currentslide)},200,"some unique string")}))},k=function(){var t={};return function(e,i,n){n||(n="Don't call this twice without a uniqueId"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(e,i)}}(),I=function(){h.css({height:n.height,width:n.width}),d.css({height:n.height,width:n.width}),s.css({height:n.height,width:n.width,position:"relative"})},y=function(){p=h.eq(0).clone(),w=h.eq(g.slidecount-1).clone(),p.attr({"data-clone":"last","data-slide":0}).appendTo(d).show(),w.attr({"data-clone":"first","data-slide":0}).prependTo(d).show(),h=d.children("li"),g.slidecount=h.length,f=t('<div class="bjqs-wrapper"></div>'),n.responsive&&x.width<n.width?(f.css({width:x.width,height:x.height,overflow:"hidden",position:"relative"}),d.css({width:x.width*(g.slidecount+2),left:-x.width*g.currentslide})):(f.css({width:n.width,height:n.height,overflow:"hidden",position:"relative"}),d.css({width:n.width*(g.slidecount+2),left:-n.width*g.currentslide})),h.css({"float":"left",position:"relative",display:"list-item"}),f.prependTo(s),d.appendTo(f)},T=function(){if(a=t('<ul class="bjqs-controls"></ul>'),r=t('<li class="bjqs-next"><a href="#" data-direction="'+v.fwd+'">'+n.nexttext+'</a></li><li class="bjqs-last"><a href="#" data-direction="'+v.lst+'">'+n.lasttext+"</a></li>"),l=t('<li class="bjqs-first"><a href="#" data-direction="'+v.fst+'">'+n.firsttext+'</a></li><li class="bjqs-prev"><a href="#" data-direction="'+v.prev+'">'+n.prevtext+"</a></li>"),a.on("click","a",function(e){e.preventDefault();var i=t(this).attr("data-direction");g.animating||(i===v.fwd&&M(v.fwd,!1),i===v.prev&&M(v.prev,!1),i===v.fst&&M(!1,1),i===v.lst&&M(!1,g.slidecount))}),l.appendTo(a),r.appendTo(a),a.appendTo(s),n.centercontrols){a.addClass("v-centered");var e=(s.height()-r.children("a").outerHeight())/2,i=e/n.height*100,d=i+"%";r.find("a").css("top",d),l.find("a").css("top",d)}},b=function(){if(c=t('<ol class="bjqs-markers"></ol>'),t.each(h,function(e,i){var s=e+1,d=e+1;"slide"===n.animtype&&(d=e+2);var h=t('<li><a href="#">'+s+"</a></li>");s===g.currentslide&&h.addClass("active-marker"),h.on("click","a",function(t){t.preventDefault(),g.animating||g.currentslide===d||M(!1,d)}),h.appendTo(c)}),c.appendTo(s),o=c.find("li"),n.centermarkers){c.addClass("h-centered");var e=(n.width-c.width())/2;c.css("left",e)}},j=function(){u=t('<div class="current-markers"></div>');var e=parseInt(g.currentslide)<9?"0"+parseInt(g.currentslide):parseInt(g.currentslide),i=parseInt(g.slidecount)<9?"0"+parseInt(g.slidecount):parseInt(g.slidecount),n=t('<span>no: <span class="x_of"> '+e+'</span> of <span class="x_total">'+i+"</span> </span>");n.appendTo(u),u.appendTo(s)},C=function(){t(document).keyup(function(t){g.paused||(clearInterval(g.interval),g.paused=!0),g.animating||(39===t.keyCode?(t.preventDefault(),M(v.fwd,!1)):37===t.keyCode&&(t.preventDefault(),M(v.prev,!1))),g.paused&&n.automatic&&(g.interval=setInterval(function(){M(v.fwd)},n.animspeed),g.paused=!1)})},D=function(){s.hover(function(){g.paused||(clearInterval(g.interval),g.paused=!0)},function(){g.paused&&(g.interval=setInterval(function(){M(v.fwd,!1)},n.animspeed),g.paused=!1)})},W=function(){t.each(h,function(e,i){var n=t(i).children("img:first-child").attr("title");n||(n=t(i).children("a").find("img:first-child").attr("title")),n&&(n=t('<p class="bjqs-caption">'+n+"</p>"),n.appendTo(t(i)))})},_=function(){var t=Math.floor(Math.random()*g.slidecount)+1;g.currentslide=t,g.currentindex=t-1},z=function(t){t===v.fwd?h.eq(g.currentindex).next().length?(g.nextindex=g.currentindex+1,g.nextslide=g.currentslide+1):(g.nextindex=0,g.nextslide=1):h.eq(g.currentindex).prev().length?(g.nextindex=g.currentindex-1,g.nextslide=g.currentslide-1):(g.nextindex=g.slidecount-1,g.nextslide=g.slidecount)},M=function(t,e){if(!g.animating){if(g.animating=!0,e?(g.nextslide=e,g.nextindex=e-1):z(t),"fade"===n.animtype){if(n.showmarkers&&(o.removeClass("active-marker"),o.eq(g.nextindex).addClass("active-marker")),n.showoutof){var i=parseInt(g.nextindex+1)<9?"0"+parseInt(g.nextindex+1):parseInt(g.nextindex+1);u.find(".x_of").html(i)}h.eq(g.currentindex).fadeOut(n.animduration),h.eq(g.nextindex).fadeIn(n.animduration,function(){g.animating=!1,g.currentslide=g.nextslide,g.currentindex=g.nextindex})}if("slide"===n.animtype){if(n.showmarkers){var s=g.nextindex-1;s===g.slidecount-2?s=0:-1===s&&(s=g.slidecount-3),o.removeClass("active-marker"),o.eq(s).addClass("active-marker")}n.responsive&&x.width<n.width?g.slidewidth=x.width:g.slidewidth=n.width,d.animate({left:-g.nextindex*g.slidewidth},n.animduration,function(){g.currentslide=g.nextslide,g.currentindex=g.nextindex,"last"===h.eq(g.currentindex).attr("data-clone")?(d.css({left:-g.slidewidth}),g.currentslide=2,g.currentindex=1):"first"===h.eq(g.currentindex).attr("data-clone")&&(d.css({left:-g.slidewidth*(g.slidecount-2)}),g.currentslide=g.slidecount-1,g.currentindex=g.slidecount-2),g.animating=!1})}}};m()}}(jQuery);